"use strict";(self["webpackChunksanyue_imghub"]=self["webpackChunksanyue_imghub"]||[]).push([[868],{4318:function(){},2885:function(e,s,a){a.d(s,{A:function(){return S}});var t=a(6768),l=a(4232);const i={id:"themeMask"},n=["cx","cy","r"],o=["r"],d=["opacity"];function c(e,s,a,c,r,u){return(0,t.uX)(),(0,t.CE)("div",{id:"themeToggle",onClick:s[0]||(s[0]=(...e)=>u.handleToggleClick&&u.handleToggleClick(...e))},[((0,t.uX)(),(0,t.CE)("svg",{class:(0,l.C4)(["theme_toggle_svg",{dark:r.isDark}]),width:"1.3em",height:"1.3em",viewBox:"0 0 24 24",fill:"none","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",stroke:"currentColor"},[(0,t.Lk)("mask",i,[s[1]||(s[1]=(0,t.Lk)("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"white"},null,-1)),(0,t.Lk)("circle",{class:"theme_toggle_circle1",fill:"black",cx:r.isDark?"50%":"100%",cy:r.isDark?"23%":"0%",r:r.isDark?"9":"5"},null,8,n)]),(0,t.Lk)("circle",{class:"theme_toggle_circle2",cx:"12",cy:"12",r:r.isDark?"9":"5",mask:"url(#themeMask)"},null,8,o),(0,t.Lk)("g",{class:"theme_toggle_g",stroke:"currentColor",opacity:r.isDark?0:1},s[2]||(s[2]=[(0,t.Fv)('<line x1="12" y1="1" x2="12" y2="3" data-v-4c88bff4></line><line x1="12" y1="21" x2="12" y2="23" data-v-4c88bff4></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64" data-v-4c88bff4></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78" data-v-4c88bff4></line><line x1="1" y1="12" x2="3" y2="12" data-v-4c88bff4></line><line x1="21" y1="12" x2="23" y2="12" data-v-4c88bff4></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36" data-v-4c88bff4></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22" data-v-4c88bff4></line>',8)]),8,d)],2))])}var r={name:"ToggleDark",data(){return{isDark:this.$store.getters.useDarkMode}},methods:{handleToggleClick(){this.isDark=!this.isDark,this.$store.commit("setUseDarkMode",this.isDark),this.$store.commit("setCusDarkMode",!0)}}},u=a(1241);const h=(0,u.A)(r,[["render",c],["__scopeId","data-v-4c88bff4"]]);var m=h,p=a(9017);a(5331),a(6055),a(8830),a(3597);const b={class:"tabs"},k={class:"title-icon"},g={class:"title-text"},f={class:"tabs-dropdown-link"},v={class:"menu-item-content"},L={class:"menu-item-content"},w={class:"menu-item-content"},C={class:"menu-item-content"};function _(e,s,a,i,n,o){const d=(0,t.g2)("font-awesome-icon"),c=p.c6,r=p.Iy,u=p.dW,h=m;return(0,t.uX)(),(0,t.CE)("div",b,[(0,t.Lk)("span",{class:"title",onClick:s[0]||(s[0]=(...e)=>o.refreshDashboard&&o.refreshDashboard(...e))},[(0,t.Lk)("div",k,[(0,t.bF)(d,{icon:o.iconName,class:"fa-images"},null,8,["icon"])]),(0,t.Lk)("span",g,(0,l.v_)(o.titleName),1)]),(0,t.bF)(u,{onCommand:o.handleTabClick,class:"tabs-dropdown",role:"navigation",onVisibleChange:o.handleDropdownVisible,"popper-class":"tabs-dropdown-popper"},{dropdown:(0,t.k6)((()=>[(0,t.bF)(r,null,{default:(0,t.k6)((()=>["dashboard"!==a.activeTab?((0,t.uX)(),(0,t.Wv)(c,{key:0,command:"dashboard"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",v,[(0,t.bF)(d,{icon:"images",class:"menu-icon"}),s[1]||(s[1]=(0,t.Lk)("span",null,"Gallery",-1)),s[2]||(s[2]=(0,t.Lk)("span",{class:"cute-emoji"},"ğŸ–¼ï¸",-1))])])),_:1})):(0,t.Q3)("",!0),"customerConfig"!==a.activeTab?((0,t.uX)(),(0,t.Wv)(c,{key:1,command:"customerConfig"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",L,[(0,t.bF)(d,{icon:"user-cog",class:"menu-icon"}),s[3]||(s[3]=(0,t.Lk)("span",null,"ç”¨æˆ·ç®¡ç†",-1)),s[4]||(s[4]=(0,t.Lk)("span",{class:"cute-emoji"},"ğŸ‘¥",-1))])])),_:1})):(0,t.Q3)("",!0),"systemConfig"!==a.activeTab?((0,t.uX)(),(0,t.Wv)(c,{key:2,command:"systemConfig"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",w,[(0,t.bF)(d,{icon:"cogs",class:"menu-icon"}),s[5]||(s[5]=(0,t.Lk)("span",null,"ç³»ç»Ÿè®¾ç½®",-1)),s[6]||(s[6]=(0,t.Lk)("span",{class:"cute-emoji"},"âš™ï¸",-1))])])),_:1})):(0,t.Q3)("",!0),(0,t.bF)(c,{command:""},{default:(0,t.k6)((()=>[(0,t.Lk)("div",C,[(0,t.bF)(d,{icon:"upload",class:"menu-icon"}),s[7]||(s[7]=(0,t.Lk)("span",null,"ä¸Šä¼ é¡µé¢",-1)),s[8]||(s[8]=(0,t.Lk)("span",{class:"cute-emoji"},"ğŸ“¤",-1))])])),_:1})])),_:1})])),default:(0,t.k6)((()=>[(0,t.Lk)("span",f,[(0,t.bF)(d,{icon:"bars",class:"tabs-arrow"})])])),_:1},8,["onCommand","onVisibleChange"]),(0,t.bF)(h)])}a(4114);var F={name:"DashboardTabs",props:{activeTab:{type:String,default:"dashboard"}},components:{AdminToggleDark:m},computed:{titleName(){return"dashboard"===this.activeTab?"Gallery":"customerConfig"===this.activeTab?"ç”¨æˆ·ç®¡ç†":"systemConfig"===this.activeTab?"ç³»ç»Ÿè®¾ç½®":"ä¸Šä¼ é¡µé¢"},iconName(){return"dashboard"===this.activeTab?"images":"customerConfig"===this.activeTab?"user-cog":"systemConfig"===this.activeTab?"cogs":"upload"}},methods:{refreshDashboard(){location.reload()},handleTabClick(e){this.$router.push(`/${e}`)},handleDropdownVisible(e){const s=document.querySelector(".tabs-dropdown-link");e?s.classList.add("rotate-up"):s.classList.remove("rotate-up")}}};const y=(0,u.A)(F,[["render",_],["__scopeId","data-v-4ad5a8d0"]]);var S=y},1868:function(e,s,a){a.r(s),a.d(s,{default:function(){return ts}});var t=a(4182),l=(a(5331),a(213),a(6768)),i=a(4232);const n={class:"sidebar-container"},o={class:"sidebar-card"},d={class:"toggle-icon"};function c(e,s,a,c,r,u){const h=t.ct,m=t.lj;return(0,l.uX)(),(0,l.CE)("div",n,[(0,l.Lk)("div",o,[(0,l.bF)(m,{"default-active":a.activeIndex,class:"cute-menu",collapse:a.isCollapse,onSelect:u.handleSelect},{default:(0,l.k6)((()=>[(0,l.bF)(h,{index:"upload",class:"cute-menu-item"},{default:(0,l.k6)((()=>s[1]||(s[1]=[(0,l.Lk)("div",{class:"menu-icon"},"ğŸ“¤",-1),(0,l.Lk)("span",{slot:"title",class:"menu-text"},"ä¸Šä¼ è®¾ç½®",-1)]))),_:1}),(0,l.bF)(h,{index:"security",class:"cute-menu-item"},{default:(0,l.k6)((()=>s[2]||(s[2]=[(0,l.Lk)("div",{class:"menu-icon"},"ğŸ”’",-1),(0,l.Lk)("span",{slot:"title",class:"menu-text"},"å®‰å…¨è®¾ç½®",-1)]))),_:1}),(0,l.bF)(h,{index:"page",class:"cute-menu-item"},{default:(0,l.k6)((()=>s[3]||(s[3]=[(0,l.Lk)("div",{class:"menu-icon"},"ğŸ“„",-1),(0,l.Lk)("span",{slot:"title",class:"menu-text"},"é¡µé¢è®¾ç½®",-1)]))),_:1}),(0,l.bF)(h,{index:"others",class:"cute-menu-item"},{default:(0,l.k6)((()=>s[4]||(s[4]=[(0,l.Lk)("div",{class:"menu-icon"},"âš™ï¸",-1),(0,l.Lk)("span",{slot:"title",class:"menu-text"},"å…¶ä»–è®¾ç½®",-1)]))),_:1})])),_:1},8,["default-active","collapse","onSelect"]),(0,l.Lk)("div",{class:"toggle-button",onClick:s[0]||(s[0]=(...e)=>u.toggleCollapse&&u.toggleCollapse(...e))},[(0,l.Lk)("div",d,(0,i.v_)(a.isCollapse?"ğŸ‘‰":"ğŸ‘ˆ"),1)])]),s[5]||(s[5]=(0,l.Lk)("div",{class:"decoration-container"},[(0,l.Lk)("div",{class:"decoration-item deco-1"},"ğŸŒŸ"),(0,l.Lk)("div",{class:"decoration-item deco-2"},"âœ¨"),(0,l.Lk)("div",{class:"decoration-item deco-3"},"ğŸ’«")],-1))])}var r={name:"SysConfigTabs",props:{activeIndex:{type:String,default:"upload"},isCollapse:{type:Boolean,default:!1}},data(){return{localIsCollapse:this.isCollapse}},methods:{toggleCollapse(){this.localIsCollapse=!this.localIsCollapse,this.$emit("update:isCollapse",this.localIsCollapse)},checkMobile(){const e=window.innerWidth<=768;this.localIsCollapse=e,this.$emit("update:isCollapse",this.localIsCollapse)},handleSelect(e){this.$emit("update:activeIndex",e)}},mounted(){this.checkMobile(),window.addEventListener("resize",this.checkMobile)},beforeDestroy(){window.removeEventListener("resize",this.checkMobile)},watch:{isCollapse(e){this.localIsCollapse=e}}},u=a(1241);const h=(0,u.A)(r,[["render",c],["__scopeId","data-v-dba6d1c2"]]);var m=h,p=a(4880),b=(a(7128),a(1450)),k=a(2885);const g={class:"container"},f={class:"header-content"},v={class:"header-left"},L={class:"header-action"};function w(e,s,a,t,n,o){const d=k.A,c=(0,l.g2)("font-awesome-icon"),r=b.R7,u=p.bZ,h=m;return(0,l.uX)(),(0,l.CE)("div",g,[(0,l.bF)(u,null,{default:(0,l.k6)((()=>[(0,l.Lk)("div",f,[(0,l.Lk)("div",v,[(0,l.bF)(d,{activeTab:"systemConfig"})]),(0,l.Lk)("div",L,[(0,l.bF)(r,{disabled:o.disableTooltip,content:"é€€å‡ºç™»å½•",placement:"bottom"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",{class:"logout-button",onClick:s[0]||(s[0]=(...e)=>o.handleLogout&&o.handleLogout(...e))},[(0,l.bF)(c,{icon:"sign-out-alt",class:"header-icon"}),s[3]||(s[3]=(0,l.Lk)("span",{class:"logout-emoji"},"ğŸ‘‹",-1))])])),_:1},8,["disabled"])])])])),_:1}),s[4]||(s[4]=(0,l.Fv)('<div class="page-decoration" data-v-3e7413fb><div class="deco-item deco-1" data-v-3e7413fb>ğŸŒ¸</div><div class="deco-item deco-2" data-v-3e7413fb>âœ¨</div><div class="deco-item deco-3" data-v-3e7413fb>ğŸŒˆ</div><div class="deco-item deco-4" data-v-3e7413fb>ğŸ€</div></div>',1)),(0,l.bF)(h,{activeIndex:n.activeIndex,"onUpdate:activeIndex":s[1]||(s[1]=e=>n.activeIndex=e),isCollapse:n.isSidebarCollapse,"onUpdate:isCollapse":s[2]||(s[2]=e=>n.isSidebarCollapse=e)},null,8,["activeIndex","isCollapse"]),((0,l.uX)(),(0,l.Wv)((0,l.$y)(o.currentComponent),{class:(0,i.C4)(["main-container",{collapsed:n.isSidebarCollapse}])},null,8,["class"]))])}a(4114);var C=a(782),_=a(9114),F=(a(694),a(2105)),y=(a(9092),a(47)),S=(a(9648),a(2006)),V=(a(8642),a(3003),a(5558)),x=(a(456),a(6810));a(4396),a(4885);const I={class:"upload-settings"},U={class:"settings-card"},A={class:"channel-selector"},P={class:"radio-content"},E={class:"channel-emoji"},T={class:"settings-card"},j={class:"card-header"},$={class:"title-icon"},D={class:"first-title"},W={key:0,class:"channel-config"},X={class:"setting-section"},N={class:"switch-container"},K={class:"switch-emoji"},q={class:"channel-item-header"},B={class:"channel-item-title"},z={class:"switch-container"},M={class:"switch-emoji"},R={key:1,class:"channel-config"},O={class:"channel-item-header"},Q={class:"channel-item-title"},J={class:"switch-container"},Z={class:"switch-emoji"},G={class:"label-container"},H={key:2,class:"channel-config"},Y={class:"setting-section"},ee={class:"switch-container"},se={class:"switch-emoji"},ae={class:"channel-item-header"},te={class:"channel-item-title"},le={class:"switch-container"},ie={class:"switch-emoji"},ne={class:"label-container"},oe={class:"label-container"},de={class:"actions"};function ce(e,s,a,t,n,o){const d=x.ll,c=x.MQ,r=(0,l.g2)("font-awesome-icon"),u=b.R7,h=V.qi,m=S.xE,p=S.US,k=y.S2,g=F.WK,f=_.L;return(0,l.bo)(((0,l.uX)(),(0,l.CE)("div",I,[(0,l.Lk)("div",U,[s[3]||(s[3]=(0,l.Lk)("div",{class:"card-header"},[(0,l.Lk)("div",{class:"title-icon"},"ğŸ“¤"),(0,l.Lk)("h3",{class:"first-title"},"ä¸Šä¼ æ¸ é“")],-1)),(0,l.Lk)("div",A,[(0,l.bF)(c,{modelValue:n.activeChannel,"onUpdate:modelValue":s[0]||(s[0]=e=>n.activeChannel=e),class:"cute-radio-group"},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.channels,(e=>((0,l.uX)(),(0,l.Wv)(d,{key:e.value,label:e.value,class:"cute-radio"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",P,[(0,l.Lk)("span",E,(0,i.v_)(o.getChannelEmoji(e.value)),1),(0,l.Lk)("span",null,(0,i.v_)(e.label),1)])])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue"])])]),(0,l.Lk)("div",T,[(0,l.Lk)("div",j,[(0,l.Lk)("div",$,(0,i.v_)(o.getChannelEmoji(n.activeChannel)),1),(0,l.Lk)("h3",D,(0,i.v_)(o.activeChannelLabel)+" è®¾ç½®",1),"telegram"===n.activeChannel?((0,l.uX)(),(0,l.Wv)(u,{key:0,content:"ä¸ºä¿è¯å…¼å®¹æ€§ï¼Œv2ç‰ˆæœ¬å‰è®¾ç½®çš„ Telegram ç›¸å…³ç¯å¢ƒå˜é‡è¯·ä¿ç•™",placement:"right"},{default:(0,l.k6)((()=>[(0,l.bF)(r,{icon:"question-circle",class:"help-icon"})])),_:1})):(0,l.Q3)("",!0)]),"telegram"===n.activeChannel?((0,l.uX)(),(0,l.CE)("div",W,[(0,l.Lk)("div",X,[s[4]||(s[4]=(0,l.Lk)("div",{class:"section-header"},[(0,l.Lk)("div",{class:"section-icon"},"âš–ï¸"),(0,l.Lk)("h4",{class:"second-title"},"è´Ÿè½½å‡è¡¡")],-1)),(0,l.bF)(p,{model:n.telegramSettings,"label-width":"120px",class:"cute-form"},{default:(0,l.k6)((()=>[(0,l.bF)(m,{label:"å¯ç”¨"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",N,[(0,l.bF)(h,{modelValue:n.telegramSettings.loadBalance.enabled,"onUpdate:modelValue":s[1]||(s[1]=e=>n.telegramSettings.loadBalance.enabled=e),class:"cute-switch"},null,8,["modelValue"]),(0,l.Lk)("span",K,(0,i.v_)(n.telegramSettings.loadBalance.enabled?"âœ…":"âŒ"),1)])])),_:1})])),_:1},8,["model"])]),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.telegramSettings.channels,((e,a)=>((0,l.uX)(),(0,l.CE)("div",{key:a,class:"channel-item"},[(0,l.Lk)("div",q,[s[5]||(s[5]=(0,l.Lk)("div",{class:"channel-item-icon"},"ğŸ¤–",-1)),(0,l.Lk)("div",B,"æ¸ é“ #"+(0,i.v_)(a+1),1),(0,l.bF)(k,{type:"danger",onClick:e=>o.deleteChannel(a),size:"small",disabled:e.fixed,class:"delete-button"},{default:(0,l.k6)((()=>[(0,l.bF)(r,{icon:"trash-alt"})])),_:2},1032,["onClick","disabled"])]),(0,l.bF)(p,{model:e,"label-width":"120px",rules:n.tgRules,ref_for:!0,ref:"tgChannelForm",class:"cute-form"},{default:(0,l.k6)((()=>[(0,l.bF)(m,{label:"æ¸ é“å",prop:"name"},{default:(0,l.k6)((()=>[(0,l.bF)(g,{modelValue:e.name,"onUpdate:modelValue":s=>e.name=s,disabled:e.fixed,class:"cute-input",placeholder:"è¯·è¾“å…¥æ¸ é“åç§°"},{prefix:(0,l.k6)((()=>s[6]||(s[6]=[(0,l.Lk)("span",{class:"input-emoji"},"ğŸ“",-1)]))),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])])),_:2},1024),(0,l.bF)(m,{label:"å¯ç”¨æ¸ é“",prop:"enabled"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",z,[(0,l.bF)(h,{modelValue:e.enabled,"onUpdate:modelValue":s=>e.enabled=s,class:"cute-switch"},null,8,["modelValue","onUpdate:modelValue"]),(0,l.Lk)("span",M,(0,i.v_)(e.enabled?"âœ…":"âŒ"),1)])])),_:2},1024),(0,l.bF)(m,{label:"Bot Token",prop:"botToken"},{default:(0,l.k6)((()=>[(0,l.bF)(g,{modelValue:e.botToken,"onUpdate:modelValue":s=>e.botToken=s,disabled:e.fixed,type:"password","show-password":"",autocomplete:"new-password",class:"cute-input",placeholder:"è¯·è¾“å…¥Bot Token"},{prefix:(0,l.k6)((()=>s[7]||(s[7]=[(0,l.Lk)("span",{class:"input-emoji"},"ğŸ”‘",-1)]))),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])])),_:2},1024),(0,l.bF)(m,{label:"Chat ID",prop:"chatId"},{default:(0,l.k6)((()=>[(0,l.bF)(g,{modelValue:e.chatId,"onUpdate:modelValue":s=>e.chatId=s,disabled:e.fixed,type:"password","show-password":"",autocomplete:"new-password",class:"cute-input",placeholder:"è¯·è¾“å…¥Chat ID"},{prefix:(0,l.k6)((()=>s[8]||(s[8]=[(0,l.Lk)("span",{class:"input-emoji"},"ğŸ’¬",-1)]))),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])])),_:2},1024)])),_:2},1032,["model","rules"])])))),128))])):(0,l.Q3)("",!0),"cfr2"===n.activeChannel?((0,l.uX)(),(0,l.CE)("div",R,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.cfr2Settings.channels,((e,a)=>((0,l.uX)(),(0,l.CE)("div",{key:a,class:"channel-item"},[(0,l.Lk)("div",O,[s[9]||(s[9]=(0,l.Lk)("div",{class:"channel-item-icon"},"â˜ï¸",-1)),(0,l.Lk)("div",Q,"æ¸ é“ #"+(0,i.v_)(a+1),1)]),(0,l.bF)(p,{model:e,"label-width":"120px",class:"cute-form"},{default:(0,l.k6)((()=>[(0,l.bF)(m,{label:"æ¸ é“å"},{default:(0,l.k6)((()=>[(0,l.bF)(g,{modelValue:e.name,"onUpdate:modelValue":s=>e.name=s,disabled:e.fixed,class:"cute-input",placeholder:"è¯·è¾“å…¥æ¸ é“åç§°"},{prefix:(0,l.k6)((()=>s[10]||(s[10]=[(0,l.Lk)("span",{class:"input-emoji"},"ğŸ“",-1)]))),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])])),_:2},1024),(0,l.bF)(m,{label:"å¯ç”¨æ¸ é“"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",J,[(0,l.bF)(h,{modelValue:e.enabled,"onUpdate:modelValue":s=>e.enabled=s,class:"cute-switch"},null,8,["modelValue","onUpdate:modelValue"]),(0,l.Lk)("span",Z,(0,i.v_)(e.enabled?"âœ…":"âŒ"),1)])])),_:2},1024),(0,l.bF)(m,null,{label:(0,l.k6)((()=>[(0,l.Lk)("div",G,[s[11]||(s[11]=(0,l.Lk)("span",null,"å…¬å¼€è®¿é—®é“¾æ¥",-1)),(0,l.bF)(u,{content:"è‹¥å¯ç”¨å›¾åƒå®¡æŸ¥ï¼Œè¯·è®¾ç½®è¯¥é¡¹",placement:"top"},{default:(0,l.k6)((()=>[(0,l.bF)(r,{icon:"question-circle",class:"help-icon"})])),_:1})])])),default:(0,l.k6)((()=>[(0,l.bF)(g,{modelValue:e.publicUrl,"onUpdate:modelValue":s=>e.publicUrl=s,class:"cute-input",placeholder:"è¯·è¾“å…¥å…¬å¼€è®¿é—®é“¾æ¥"},{prefix:(0,l.k6)((()=>s[12]||(s[12]=[(0,l.Lk)("span",{class:"input-emoji"},"ğŸ”—",-1)]))),_:2},1032,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1032,["model"])])))),128))])):(0,l.Q3)("",!0),"s3"===n.activeChannel?((0,l.uX)(),(0,l.CE)("div",H,[(0,l.Lk)("div",Y,[s[13]||(s[13]=(0,l.Lk)("div",{class:"section-header"},[(0,l.Lk)("div",{class:"section-icon"},"âš–ï¸"),(0,l.Lk)("h4",{class:"second-title"},"è´Ÿè½½å‡è¡¡")],-1)),(0,l.bF)(p,{model:n.s3Settings,"label-width":"120px",class:"cute-form"},{default:(0,l.k6)((()=>[(0,l.bF)(m,{label:"å¯ç”¨"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",ee,[(0,l.bF)(h,{modelValue:n.s3Settings.loadBalance.enabled,"onUpdate:modelValue":s[2]||(s[2]=e=>n.s3Settings.loadBalance.enabled=e),class:"cute-switch"},null,8,["modelValue"]),(0,l.Lk)("span",se,(0,i.v_)(n.s3Settings.loadBalance.enabled?"âœ…":"âŒ"),1)])])),_:1})])),_:1},8,["model"])]),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.s3Settings.channels,((e,a)=>((0,l.uX)(),(0,l.CE)("div",{key:a,class:"channel-item"},[(0,l.Lk)("div",ae,[s[14]||(s[14]=(0,l.Lk)("div",{class:"channel-item-icon"},"ğŸ“¦",-1)),(0,l.Lk)("div",te,"æ¸ é“ #"+(0,i.v_)(a+1),1),(0,l.bF)(k,{type:"danger",onClick:e=>o.deleteChannel(a),size:"small",disabled:e.fixed,class:"delete-button"},{default:(0,l.k6)((()=>[(0,l.bF)(r,{icon:"trash-alt"})])),_:2},1032,["onClick","disabled"])]),(0,l.bF)(p,{model:e,"label-width":"120px",rules:n.s3Rules,ref_for:!0,ref:"s3ChannelForm",class:"cute-form"},{default:(0,l.k6)((()=>[(0,l.bF)(m,{label:"æ¸ é“å",prop:"name"},{default:(0,l.k6)((()=>[(0,l.bF)(g,{modelValue:e.name,"onUpdate:modelValue":s=>e.name=s,disabled:e.fixed,class:"cute-input",placeholder:"è¯·è¾“å…¥æ¸ é“åç§°"},{prefix:(0,l.k6)((()=>s[15]||(s[15]=[(0,l.Lk)("span",{class:"input-emoji"},"ğŸ“",-1)]))),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])])),_:2},1024),(0,l.bF)(m,{label:"å¯ç”¨æ¸ é“",prop:"enabled"},{default:(0,l.k6)((()=>[(0,l.Lk)("div",le,[(0,l.bF)(h,{modelValue:e.enabled,"onUpdate:modelValue":s=>e.enabled=s,class:"cute-switch"},null,8,["modelValue","onUpdate:modelValue"]),(0,l.Lk)("span",ie,(0,i.v_)(e.enabled?"âœ…":"âŒ"),1)])])),_:2},1024),(0,l.bF)(m,{prop:"endpoint"},{label:(0,l.k6)((()=>[(0,l.Lk)("div",ne,[s[16]||(s[16]=(0,l.Lk)("span",null,"Endpoint",-1)),(0,l.bF)(u,{content:"æœåŠ¡æä¾›å•† Endpointï¼Œä¾‹å¦‚ https://s3.us-east-005.backblazeb2.com",placement:"top"},{default:(0,l.k6)((()=>[(0,l.bF)(r,{icon:"question-circle",class:"help-icon"})])),_:1})])])),default:(0,l.k6)((()=>[(0,l.bF)(g,{modelValue:e.endpoint,"onUpdate:modelValue":s=>e.endpoint=s,disabled:e.fixed,class:"cute-input",placeholder:"è¯·è¾“å…¥Endpoint"},{prefix:(0,l.k6)((()=>s[17]||(s[17]=[(0,l.Lk)("span",{class:"input-emoji"},"ğŸŒ",-1)]))),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])])),_:2},1024),(0,l.bF)(m,{label:"å­˜å‚¨æ¡¶åç§°",prop:"bucketName"},{default:(0,l.k6)((()=>[(0,l.bF)(g,{modelValue:e.bucketName,"onUpdate:modelValue":s=>e.bucketName=s,disabled:e.fixed,class:"cute-input",placeholder:"è¯·è¾“å…¥å­˜å‚¨æ¡¶åç§°"},{prefix:(0,l.k6)((()=>s[18]||(s[18]=[(0,l.Lk)("span",{class:"input-emoji"},"ğŸª£",-1)]))),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])])),_:2},1024),(0,l.bF)(m,{prop:"region"},{label:(0,l.k6)((()=>[(0,l.Lk)("div",oe,[s[19]||(s[19]=(0,l.Lk)("span",null,"å­˜å‚¨æ¡¶åŒºåŸŸ",-1)),(0,l.bF)(u,{content:"é»˜è®¤å¡«å†™ auto å³å¯",placement:"top"},{default:(0,l.k6)((()=>[(0,l.bF)(r,{icon:"question-circle",class:"help-icon"})])),_:1})])])),default:(0,l.k6)((()=>[(0,l.bF)(g,{modelValue:e.region,"onUpdate:modelValue":s=>e.region=s,placeholder:"auto",disabled:e.fixed,class:"cute-input"},{prefix:(0,l.k6)((()=>s[20]||(s[20]=[(0,l.Lk)("span",{class:"input-emoji"},"ğŸŒ",-1)]))),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])])),_:2},1024),(0,l.bF)(m,{label:"è®¿é—®å¯†é’¥ ID",prop:"accessKeyId"},{default:(0,l.k6)((()=>[(0,l.bF)(g,{modelValue:e.accessKeyId,"onUpdate:modelValue":s=>e.accessKeyId=s,disabled:e.fixed,type:"password","show-password":"",autocomplete:"new-password",class:"cute-input",placeholder:"è¯·è¾“å…¥è®¿é—®å¯†é’¥ID"},{prefix:(0,l.k6)((()=>s[21]||(s[21]=[(0,l.Lk)("span",{class:"input-emoji"},"ğŸ”‘",-1)]))),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])])),_:2},1024),(0,l.bF)(m,{label:"æœºå¯†è®¿é—®å¯†é’¥",prop:"secretAccessKey"},{default:(0,l.k6)((()=>[(0,l.bF)(g,{modelValue:e.secretAccessKey,"onUpdate:modelValue":s=>e.secretAccessKey=s,disabled:e.fixed,type:"password","show-password":"",autocomplete:"new-password",class:"cute-input",placeholder:"è¯·è¾“å…¥æœºå¯†è®¿é—®å¯†é’¥"},{prefix:(0,l.k6)((()=>s[22]||(s[22]=[(0,l.Lk)("span",{class:"input-emoji"},"ğŸ”’",-1)]))),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])])),_:2},1024)])),_:2},1032,["model","rules"])])))),128))])):(0,l.Q3)("",!0)]),(0,l.Lk)("div",de,[(0,l.bF)(k,{type:"primary",onClick:o.addChannel,class:"add-button"},{default:(0,l.k6)((()=>[(0,l.bF)(r,{icon:"plus"}),s[23]||(s[23]=(0,l.Lk)("span",{class:"button-emoji"},"â•",-1))])),_:1},8,["onClick"]),(0,l.bF)(k,{type:"primary",onClick:o.saveSettings,class:"save-button"},{default:(0,l.k6)((()=>s[24]||(s[24]=[(0,l.Lk)("span",{class:"button-text"},"ä¿å­˜è®¾ç½®",-1),(0,l.Lk)("span",{class:"button-icon"},"ğŸ’¾",-1)]))),_:1},8,["onClick"])]),s[25]||(s[25]=(0,l.Fv)('<div class="decoration-container" data-v-68002fa1><div class="decoration-item deco-1" data-v-68002fa1>ğŸ“¤</div><div class="decoration-item deco-2" data-v-68002fa1>ğŸ”„</div><div class="decoration-item deco-3" data-v-68002fa1>ğŸ“¡</div><div class="decoration-item deco-4" data-v-68002fa1>ğŸ“¦</div></div>',1))])),[[f,n.loading]])}var re={data(){return{channels:[{value:"telegram",label:"Telegram"},{value:"cfr2",label:"CloudFlareR2"},{value:"s3",label:"S3"}],activeChannel:"telegram",telegramSettings:{loadBalance:{},channels:[]},tgRules:{name:[{required:!0,message:"è¯·è¾“å…¥æ¸ é“å",trigger:"blur"},{validator:(e,s,a)=>{const t=this.telegramSettings.channels.map((e=>e.name));if(t.filter((e=>e===s)).length>1)a(new Error("æ¸ é“åä¸èƒ½é‡å¤"));else if("Telegram_env"===s){const e=this.telegramSettings.channels.find((e=>e.name===s)).savePath;"environment variable"!==e?a(new Error("æ¸ é“åä¸èƒ½ä¸ºä¿ç•™å€¼")):a()}else a()},trigger:"blur"}],botToken:[{required:!0,message:"è¯·è¾“å…¥ Bot Token",trigger:"blur"}],chatId:[{required:!0,message:"è¯·è¾“å…¥ Chat ID",trigger:"blur"}]},cfr2Settings:{channels:[]},s3Settings:{loadBalance:{},channels:[]},s3Rules:{name:[{required:!0,message:"è¯·è¾“å…¥æ¸ é“å",trigger:"blur"},{validator:(e,s,a)=>{const t=this.s3Settings.channels.map((e=>e.name));if(t.filter((e=>e===s)).length>1)a(new Error("æ¸ é“åä¸èƒ½é‡å¤"));else if("S3_env"===s){const e=this.s3Settings.channels.find((e=>e.name===s)).savePath;"environment variable"!==e?a(new Error("æ¸ é“åä¸èƒ½ä¸ºä¿ç•™å€¼")):a()}else a()},trigger:"blur"}],endpoint:[{required:!0,message:"è¯·è¾“å…¥ Endpoint",trigger:"blur"}],bucketName:[{required:!0,message:"è¯·è¾“å…¥å­˜å‚¨æ¡¶åç§°",trigger:"blur"}],region:[{required:!0,message:"è¯·è¾“å…¥å­˜å‚¨æ¡¶åŒºåŸŸ",trigger:"blur"}],accessKeyId:[{required:!0,message:"è¯·è¾“å…¥è®¿é—®å¯†é’¥ ID",trigger:"blur"}],secretAccessKey:[{required:!0,message:"è¯·è¾“å…¥æœºå¯†è®¿é—®å¯†é’¥",trigger:"blur"}]},loading:!1}},computed:{...(0,C.L8)(["credentials"]),activeChannelLabel(){const e=this.channels.find((e=>e.value===this.activeChannel));return e?e.label:""}},methods:{async fetchWithAuth(e,s={}){this.credentials&&(s.headers={...s.headers,Authorization:`Basic ${this.credentials}`},s.credentials="include");const a=await fetch(e,s);if(401===a.status)throw this.$message.error("è®¤è¯çŠ¶æ€é”™è¯¯ï¼Œè¯·é‡æ–°ç™»å½•"),this.$router.push("/adminLogin"),new Error("Unauthorized");return a},addChannel(){switch(this.activeChannel){case"telegram":this.telegramSettings.channels.push({id:this.telegramSettings.channels.length+1,name:"",type:"telegram",savePath:"database",botToken:"",chatId:"",enabled:!0,fixed:!1});break;case"cfr2":this.$message.error("æš‚ä¸æ”¯æŒå¢åŠ  R2æ¸ é“ é…ç½®");break;case"s3":this.s3Settings.channels.push({id:this.s3Settings.channels.length+1,name:"",type:"s3",savePath:"database",accessKeyId:"",secretAccessKey:"",region:"",bucketName:"",endpoint:"",enabled:!0,fixed:!1});break}},deleteChannel(e){switch(this.activeChannel){case"telegram":this.telegramSettings.channels.forEach(((s,a)=>{a>e&&(s.id-=1)})),this.telegramSettings.channels.splice(e,1);break;case"cfr2":this.cfr2Settings.channels.forEach(((s,a)=>{a>e&&(s.id-=1)})),this.cfr2Settings.channels.splice(e,1);break;case"s3":this.s3Settings.channels.forEach(((s,a)=>{a>e&&(s.id-=1)})),this.s3Settings.channels.splice(e,1);break}},saveSettings(){let e=[];this.$refs.tgChannelForm&&this.$refs.tgChannelForm.forEach((s=>{e.push(new Promise((e=>{s.validate((s=>e(s)))})))})),this.$refs.s3ChannelForm&&this.$refs.s3ChannelForm.forEach((s=>{e.push(new Promise((e=>{s.validate((s=>e(s)))})))})),Promise.all(e).then((e=>{const s=e.every((e=>e));if(!s)return;const a={telegram:this.telegramSettings,cfr2:this.cfr2Settings,s3:this.s3Settings};this.fetchWithAuth("/api/manage/sysConfig/upload",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((()=>{this.$message.success("è®¾ç½®å·²ä¿å­˜")}))}))},getChannelEmoji(e){const s={telegram:"ğŸ¤–",cfr2:"â˜ï¸",s3:"ğŸ“¦"};return s[e]||"ğŸ“¤"}},mounted(){this.loading=!0,this.fetchWithAuth("/api/manage/sysConfig/upload").then((e=>e.json())).then((e=>{this.telegramSettings=e.telegram,this.cfr2Settings=e.cfr2,this.s3Settings=e.s3})).finally((()=>{this.loading=!1}))}};const ue=(0,u.A)(re,[["render",ce],["__scopeId","data-v-68002fa1"]]);var he=ue;const me={class:"security-settings"},pe={class:"settings-card"},be={class:"setting-section"},ke={class:"setting-section"},ge={class:"settings-card"},fe={class:"setting-section"},ve={class:"section-header"},Le={class:"settings-card"},we={class:"setting-section"},Ce={class:"label-container"},_e={class:"label-container"},Fe={class:"switch-container"},ye={class:"switch-emoji"},Se={class:"actions"};function Ve(e,s,a,t,n,o){const d=F.WK,c=S.xE,r=S.US,u=(0,l.g2)("font-awesome-icon"),h=b.R7,m=V.qi,p=y.S2,k=_.L;return(0,l.bo)(((0,l.uX)(),(0,l.CE)("div",me,[(0,l.Lk)("div",pe,[s[16]||(s[16]=(0,l.Lk)("div",{class:"card-header"},[(0,l.Lk)("div",{class:"title-icon"},"ğŸ”"),(0,l.Lk)("h3",{class:"first-title"},"è®¤è¯ç®¡ç†")],-1)),(0,l.Lk)("div",be,[s[11]||(s[11]=(0,l.Lk)("div",{class:"section-header"},[(0,l.Lk)("div",{class:"section-icon"},"ğŸ‘¤"),(0,l.Lk)("h4",{class:"second-title"},"ç”¨æˆ·ç«¯è®¤è¯")],-1)),(0,l.bF)(r,{model:n.authSettings.user,rules:n.userPassRules,ref:"userPassForm","label-width":"120px",class:"cute-form"},{default:(0,l.k6)((()=>[(0,l.bF)(c,{label:"ä¸Šä¼ å¯†ç ",prop:"authCode"},{default:(0,l.k6)((()=>[(0,l.bF)(d,{modelValue:n.authSettings.user.authCode,"onUpdate:modelValue":s[0]||(s[0]=e=>n.authSettings.user.authCode=e),type:"password","show-password":"",onInput:o.handleUserPassInput,autocomplete:"new-password",class:"cute-input",placeholder:"è¯·è¾“å…¥ä¸Šä¼ å¯†ç "},{prefix:(0,l.k6)((()=>s[9]||(s[9]=[(0,l.Lk)("span",{class:"input-emoji"},"ğŸ”‘",-1)]))),_:1},8,["modelValue","onInput"])])),_:1}),n.showUserPassConfirm?((0,l.uX)(),(0,l.Wv)(c,{key:0,label:"ç¡®è®¤å¯†ç ",prop:"confirmNewUserPassword"},{default:(0,l.k6)((()=>[(0,l.bF)(d,{modelValue:n.authSettings.user.confirmNewUserPassword,"onUpdate:modelValue":s[1]||(s[1]=e=>n.authSettings.user.confirmNewUserPassword=e),type:"password","show-password":"",autocomplete:"new-password",class:"cute-input",placeholder:"è¯·å†æ¬¡è¾“å…¥å¯†ç "},{prefix:(0,l.k6)((()=>s[10]||(s[10]=[(0,l.Lk)("span",{class:"input-emoji"},"âœ…",-1)]))),_:1},8,["modelValue"])])),_:1})):(0,l.Q3)("",!0)])),_:1},8,["model","rules"])]),(0,l.Lk)("div",ke,[s[15]||(s[15]=(0,l.Lk)("div",{class:"section-header"},[(0,l.Lk)("div",{class:"section-icon"},"ğŸ‘‘"),(0,l.Lk)("h4",{class:"second-title"},"ç®¡ç†ç«¯è®¤è¯")],-1)),(0,l.bF)(r,{model:n.authSettings.admin,rules:n.adminPassRules,ref:"adminPassForm","label-width":"120px",class:"cute-form"},{default:(0,l.k6)((()=>[(0,l.bF)(c,{label:"ç”¨æˆ·å",prop:"adminUsername"},{default:(0,l.k6)((()=>[(0,l.bF)(d,{modelValue:n.authSettings.admin.adminUsername,"onUpdate:modelValue":s[2]||(s[2]=e=>n.authSettings.admin.adminUsername=e),autocomplete:"new-password",class:"cute-input",placeholder:"è¯·è¾“å…¥ç®¡ç†å‘˜ç”¨æˆ·å"},{prefix:(0,l.k6)((()=>s[12]||(s[12]=[(0,l.Lk)("span",{class:"input-emoji"},"ğŸ‘¨â€ğŸ’¼",-1)]))),_:1},8,["modelValue"])])),_:1}),(0,l.bF)(c,{label:"å¯†ç ",prop:"adminPassword"},{default:(0,l.k6)((()=>[(0,l.bF)(d,{modelValue:n.authSettings.admin.adminPassword,"onUpdate:modelValue":s[3]||(s[3]=e=>n.authSettings.admin.adminPassword=e),type:"password","show-password":"",onInput:o.handleAdminPassInput,autocomplete:"new-password",class:"cute-input",placeholder:"è¯·è¾“å…¥ç®¡ç†å‘˜å¯†ç "},{prefix:(0,l.k6)((()=>s[13]||(s[13]=[(0,l.Lk)("span",{class:"input-emoji"},"ğŸ”’",-1)]))),_:1},8,["modelValue","onInput"])])),_:1}),n.showAdminPassConfirm?((0,l.uX)(),(0,l.Wv)(c,{key:0,label:"ç¡®è®¤å¯†ç ",prop:"confirmNewAdminPassword"},{default:(0,l.k6)((()=>[(0,l.bF)(d,{modelValue:n.authSettings.admin.confirmNewAdminPassword,"onUpdate:modelValue":s[4]||(s[4]=e=>n.authSettings.admin.confirmNewAdminPassword=e),type:"password","show-password":"",autocomplete:"new-password",class:"cute-input",placeholder:"è¯·å†æ¬¡è¾“å…¥å¯†ç "},{prefix:(0,l.k6)((()=>s[14]||(s[14]=[(0,l.Lk)("span",{class:"input-emoji"},"âœ…",-1)]))),_:1},8,["modelValue"])])),_:1})):(0,l.Q3)("",!0)])),_:1},8,["model","rules"])])]),(0,l.Lk)("div",ge,[s[21]||(s[21]=(0,l.Lk)("div",{class:"card-header"},[(0,l.Lk)("div",{class:"title-icon"},"ğŸ“¤"),(0,l.Lk)("h3",{class:"first-title"},"ä¸Šä¼ ç®¡ç†")],-1)),(0,l.Lk)("div",fe,[(0,l.Lk)("div",ve,[s[17]||(s[17]=(0,l.Lk)("div",{class:"section-icon"},"ğŸ”",-1)),s[18]||(s[18]=(0,l.Lk)("h4",{class:"second-title"},"å›¾åƒå®¡æŸ¥",-1)),(0,l.bF)(h,{content:"ç›®å‰ä»…æ”¯æŒ moderatecontent.com æ¸ é“",placement:"top"},{default:(0,l.k6)((()=>[(0,l.bF)(u,{icon:"question-circle",class:"help-icon"})])),_:1})]),(0,l.bF)(r,{model:n.uploadSettings.moderate,"label-width":"120px",class:"cute-form"},{default:(0,l.k6)((()=>[(0,l.bF)(c,{label:"å®¡æŸ¥æ¸ é“"},{default:(0,l.k6)((()=>[(0,l.bF)(d,{modelValue:n.uploadSettings.moderate.channel,"onUpdate:modelValue":s[5]||(s[5]=e=>n.uploadSettings.moderate.channel=e),class:"cute-input",placeholder:"è¯·è¾“å…¥å®¡æŸ¥æ¸ é“"},{prefix:(0,l.k6)((()=>s[19]||(s[19]=[(0,l.Lk)("span",{class:"input-emoji"},"ğŸŒ",-1)]))),_:1},8,["modelValue"])])),_:1}),(0,l.bF)(c,{label:"API Key"},{default:(0,l.k6)((()=>[(0,l.bF)(d,{modelValue:n.uploadSettings.moderate.apiKey,"onUpdate:modelValue":s[6]||(s[6]=e=>n.uploadSettings.moderate.apiKey=e),class:"cute-input",placeholder:"è¯·è¾“å…¥API Key"},{prefix:(0,l.k6)((()=>s[20]||(s[20]=[(0,l.Lk)("span",{class:"input-emoji"},"ğŸ”‘",-1)]))),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model"])])]),(0,l.Lk)("div",Le,[s[26]||(s[26]=(0,l.Lk)("div",{class:"card-header"},[(0,l.Lk)("div",{class:"title-icon"},"ğŸšª"),(0,l.Lk)("h3",{class:"first-title"},"è®¿é—®ç®¡ç†")],-1)),(0,l.Lk)("div",we,[s[25]||(s[25]=(0,l.Lk)("div",{class:"section-header"},[(0,l.Lk)("div",{class:"section-icon"},"ğŸŒ"),(0,l.Lk)("h4",{class:"second-title"},"åŸŸåè¿‡æ»¤")],-1)),(0,l.bF)(r,{model:n.accessSettings,"label-width":"120px",class:"cute-form"},{default:(0,l.k6)((()=>[(0,l.bF)(c,null,{label:(0,l.k6)((()=>[(0,l.Lk)("div",Ce,[s[22]||(s[22]=(0,l.Lk)("span",null,"æ”¾è¡ŒåŸŸå",-1)),(0,l.bF)(h,{content:"ç•™ç©ºé»˜è®¤å…¨éƒ¨æ”¾è¡Œï¼Œå¤šä¸ªåŸŸåè¯·ç”¨è‹±æ–‡é€—å·åˆ†éš”",placement:"top"},{default:(0,l.k6)((()=>[(0,l.bF)(u,{icon:"question-circle",class:"help-icon"})])),_:1})])])),default:(0,l.k6)((()=>[(0,l.bF)(d,{modelValue:n.accessSettings.allowedDomains,"onUpdate:modelValue":s[7]||(s[7]=e=>n.accessSettings.allowedDomains=e),class:"cute-input",placeholder:"è¯·è¾“å…¥æ”¾è¡ŒåŸŸåï¼Œå¤šä¸ªåŸŸåç”¨è‹±æ–‡é€—å·åˆ†éš”"},{prefix:(0,l.k6)((()=>s[23]||(s[23]=[(0,l.Lk)("span",{class:"input-emoji"},"ğŸ”“",-1)]))),_:1},8,["modelValue"])])),_:1}),(0,l.bF)(c,null,{label:(0,l.k6)((()=>[(0,l.Lk)("div",_e,[s[24]||(s[24]=(0,l.Lk)("span",null,"ç™½åå•æ¨¡å¼",-1)),(0,l.bF)(h,{content:"å¼€å¯åï¼Œä»…ç™½åå•æ–‡ä»¶å¯è¢«è®¿é—®",placement:"top"},{default:(0,l.k6)((()=>[(0,l.bF)(u,{icon:"question-circle",class:"help-icon"})])),_:1})])])),default:(0,l.k6)((()=>[(0,l.Lk)("div",Fe,[(0,l.bF)(m,{modelValue:n.accessSettings.whiteListMode,"onUpdate:modelValue":s[8]||(s[8]=e=>n.accessSettings.whiteListMode=e),class:"cute-switch"},null,8,["modelValue"]),(0,l.Lk)("span",ye,(0,i.v_)(n.accessSettings.whiteListMode?"âœ…":"âŒ"),1)])])),_:1})])),_:1},8,["model"])])]),(0,l.Lk)("div",Se,[(0,l.bF)(p,{type:"primary",onClick:o.saveSettings,class:"save-button"},{default:(0,l.k6)((()=>s[27]||(s[27]=[(0,l.Lk)("span",{class:"button-text"},"ä¿å­˜è®¾ç½®",-1),(0,l.Lk)("span",{class:"button-icon"},"ğŸ’¾",-1)]))),_:1},8,["onClick"])]),s[28]||(s[28]=(0,l.Fv)('<div class="decoration-container" data-v-62275891><div class="decoration-item deco-1" data-v-62275891>ğŸ”’</div><div class="decoration-item deco-2" data-v-62275891>ğŸ›¡ï¸</div><div class="decoration-item deco-3" data-v-62275891>ğŸ”</div><div class="decoration-item deco-4" data-v-62275891>ğŸ”‘</div></div>',1))])),[[k,n.loading]])}var xe={data(){return{authSettings:{user:{},admin:{}},uploadSettings:{moderate:{}},accessSettings:{},loading:!1,oriUserPassword:"",oriAdminPassword:"",showUserPassConfirm:!1,showAdminPassConfirm:!1,userPassRules:{confirmNewUserPassword:[{message:"è¯·å†æ¬¡è¾“å…¥ä¸Šä¼ å¯†ç ",trigger:"blur"},{validator:(e,s,a)=>{s!==this.authSettings.user.authCode?a(new Error("ä¸¤æ¬¡è¾“å…¥å¯†ç ä¸ä¸€è‡´")):a()},trigger:"blur"}]},adminPassRules:{confirmNewAdminPassword:[{message:"è¯·å†æ¬¡è¾“å…¥ç®¡ç†å¯†ç ",trigger:"blur"},{validator:(e,s,a)=>{s!==this.authSettings.admin.adminPassword?a(new Error("ä¸¤æ¬¡è¾“å…¥å¯†ç ä¸ä¸€è‡´")):a()},trigger:"blur"}]}}},computed:{...(0,C.L8)(["credentials"])},methods:{async fetchWithAuth(e,s={}){this.credentials&&(s.headers={...s.headers,Authorization:`Basic ${this.credentials}`},s.credentials="include");const a=await fetch(e,s);if(401===a.status)throw this.$message.error("è®¤è¯çŠ¶æ€é”™è¯¯ï¼Œè¯·é‡æ–°ç™»å½•"),this.$router.push("/adminLogin"),new Error("Unauthorized");return a},handleUserPassInput(){this.authSettings.user.authCode!==this.oriUserPassword?this.showUserPassConfirm=!0:this.showUserPassConfirm=!1},handleAdminPassInput(){this.authSettings.admin.adminPassword!==this.oriAdminPassword?this.showAdminPassConfirm=!0:this.showAdminPassConfirm=!1},saveSettings(){let e=[];e.push(new Promise((e=>{this.$refs.userPassForm.validate((s=>{e(s)}))}))),e.push(new Promise((e=>{this.$refs.adminPassForm.validate((s=>{e(s)}))}))),Promise.all(e).then((e=>{const s=e.every((e=>e));if(!s)return;const a={auth:this.authSettings,upload:this.uploadSettings,access:this.accessSettings};delete a.auth.user.confirmNewUserPassword,delete a.auth.admin.confirmNewAdminPassword,this.fetchWithAuth("/api/manage/sysConfig/security",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((()=>{this.$message.success("è®¾ç½®å·²ä¿å­˜")}))}))}},mounted(){this.loading=!0,this.fetchWithAuth("/api/manage/sysConfig/security").then((e=>e.json())).then((e=>{this.authSettings=e.auth,this.uploadSettings=e.upload,this.accessSettings=e.access,this.oriUserPassword=this.authSettings.user.authCode,this.oriAdminPassword=this.authSettings.admin.adminPassword,this.authSettings.user.confirmNewUserPassword="",this.authSettings.admin.confirmNewAdminPassword=""})).finally((()=>{this.loading=!1}))}};const Ie=(0,u.A)(xe,[["render",Ve],["__scopeId","data-v-62275891"]]);var Ue=Ie;const Ae={class:"page-settings"},Pe={class:"settings-card"},Ee={class:"settings-content"},Te={class:"label-container"},je={class:"setting-label"},$e={class:"input-emoji"},De={class:"actions"};function We(e,s,a,t,n,o){const d=(0,l.g2)("font-awesome-icon"),c=b.R7,r=F.WK,u=S.xE,h=S.US,m=y.S2,p=_.L;return(0,l.bo)(((0,l.uX)(),(0,l.CE)("div",Ae,[(0,l.Lk)("div",Pe,[s[0]||(s[0]=(0,l.Lk)("div",{class:"card-header"},[(0,l.Lk)("div",{class:"title-icon"},"ğŸ¨"),(0,l.Lk)("h3",{class:"first-title"},"é¡µé¢è®¾ç½®")],-1)),(0,l.Lk)("div",Ee,[(0,l.bF)(h,{model:n.settings,"label-width":"120px",class:"cute-form"},{default:(0,l.k6)((()=>[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.settings.config,((e,s)=>((0,l.uX)(),(0,l.Wv)(u,{key:s,class:"setting-item"},{label:(0,l.k6)((()=>[(0,l.Lk)("div",Te,[(0,l.Lk)("span",je,(0,i.v_)(e.label),1),e.tooltip?((0,l.uX)(),(0,l.Wv)(c,{key:0,content:e.tooltip,placement:"top","raw-content":""},{default:(0,l.k6)((()=>[(0,l.bF)(d,{icon:"question-circle",class:"help-icon"})])),_:2},1032,["content"])):(0,l.Q3)("",!0)])])),default:(0,l.k6)((()=>[(0,l.bF)(r,{modelValue:e.value,"onUpdate:modelValue":s=>e.value=s,disabled:e.fixed,placeholder:e.placeholder,class:"cute-input"},{prefix:(0,l.k6)((()=>[(0,l.Lk)("span",$e,(0,i.v_)(o.getInputEmoji(e.label)),1)])),_:2},1032,["modelValue","onUpdate:modelValue","disabled","placeholder"])])),_:2},1024)))),128))])),_:1},8,["model"])]),s[1]||(s[1]=(0,l.Lk)("div",{class:"decoration-container"},[(0,l.Lk)("div",{class:"decoration-item deco-1"},"ğŸŒŸ"),(0,l.Lk)("div",{class:"decoration-item deco-2"},"âœ¨"),(0,l.Lk)("div",{class:"decoration-item deco-3"},"ğŸ’«")],-1))]),(0,l.Lk)("div",De,[(0,l.bF)(m,{type:"primary",onClick:o.saveSettings,class:"save-button"},{default:(0,l.k6)((()=>s[2]||(s[2]=[(0,l.Lk)("span",{class:"button-text"},"ä¿å­˜è®¾ç½®",-1),(0,l.Lk)("span",{class:"button-icon"},"ğŸ’¾",-1)]))),_:1},8,["onClick"])])])),[[p,n.loading]])}var Xe={data(){return{settings:{config:[]},loading:!1}},computed:{...(0,C.L8)(["credentials"])},methods:{async fetchWithAuth(e,s={}){this.credentials&&(s.headers={...s.headers,Authorization:`Basic ${this.credentials}`},s.credentials="include");const a=await fetch(e,s);if(401===a.status)throw this.$message.error("è®¤è¯çŠ¶æ€é”™è¯¯ï¼Œè¯·é‡æ–°ç™»å½•"),this.$router.push("/adminLogin"),new Error("Unauthorized");return a},saveSettings(){this.fetchWithAuth("/api/manage/sysConfig/page",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.settings)}).then((()=>this.$message.success("è®¾ç½®å·²ä¿å­˜")))},getInputEmoji(e){const s={"ç½‘ç«™æ ‡é¢˜":"ğŸ“","ç½‘ç«™æè¿°":"ğŸ“„","ç½‘ç«™å…³é”®è¯":"ğŸ”","ç½‘ç«™å›¾æ ‡":"ğŸ”–","é¡µè„šé“¾æ¥":"ğŸ”—","æ‰€æœ‰è€…åç§°":"ğŸ‘¤","ç¦ç”¨é¡µè„š":"ğŸ‘£","è‡ªå®šä¹‰CSS":"ğŸ­","è‡ªå®šä¹‰JS":"âš™ï¸"};return s[e]||"ğŸŒˆ"}},mounted(){this.loading=!0,this.fetchWithAuth("/api/manage/sysConfig/page").then((e=>e.json())).then((e=>{this.settings=e})).finally((()=>{this.loading=!1}))}};const Ne=(0,u.A)(Xe,[["render",We],["__scopeId","data-v-b88193b4"]]);var Ke=Ne;const qe={class:"others-settings"},Be={class:"settings-card"},ze={class:"setting-section"},Me={class:"section-header"},Re={class:"setting-section"},Oe={class:"section-header"},Qe={class:"setting-section"},Je={class:"section-header"},Ze={class:"actions"};function Ge(e,s,a,t,i,n){const o=(0,l.g2)("font-awesome-icon"),d=b.R7,c=V.qi,r=S.xE,u=S.US,h=F.WK,m=y.S2,p=_.L;return(0,l.bo)(((0,l.uX)(),(0,l.CE)("div",qe,[(0,l.Lk)("div",Be,[s[11]||(s[11]=(0,l.Lk)("div",{class:"card-header"},[(0,l.Lk)("div",{class:"title-icon"},"ğŸ› ï¸"),(0,l.Lk)("h3",{class:"first-title"},"å…¶ä»–è®¾ç½®")],-1)),(0,l.Lk)("div",ze,[(0,l.Lk)("div",Me,[s[5]||(s[5]=(0,l.Lk)("div",{class:"section-icon"},"ğŸ“¡",-1)),s[6]||(s[6]=(0,l.Lk)("h4",{class:"second-title"},"è¿œç«¯é¥æµ‹",-1)),(0,l.bF)(d,{content:"ä¾¿äºé—®é¢˜æŸ¥æ‰¾å’Œå®šä½ï¼Œå»ºè®®å¼€å¯",placement:"right"},{default:(0,l.k6)((()=>[(0,l.bF)(o,{icon:"question-circle",class:"help-icon"})])),_:1})]),(0,l.bF)(u,{model:i.settings.telemetry,"label-width":"120px",class:"cute-form"},{default:(0,l.k6)((()=>[(0,l.bF)(r,{label:"å¯ç”¨"},{default:(0,l.k6)((()=>[(0,l.bF)(c,{modelValue:i.settings.telemetry.enabled,"onUpdate:modelValue":s[0]||(s[0]=e=>i.settings.telemetry.enabled=e),disabled:i.settings.telemetry.fixed,class:"cute-switch"},null,8,["modelValue","disabled"])])),_:1})])),_:1},8,["model"])]),(0,l.Lk)("div",Re,[(0,l.Lk)("div",Oe,[s[7]||(s[7]=(0,l.Lk)("div",{class:"section-icon"},"ğŸ–¼ï¸",-1)),s[8]||(s[8]=(0,l.Lk)("h4",{class:"second-title"},"éšæœºå›¾åƒAPI",-1)),(0,l.bF)(d,{content:"APIå…·ä½“ç”¨æ³•è¯·æŸ¥é˜…æ–‡æ¡£",placement:"right"},{default:(0,l.k6)((()=>[(0,l.bF)(o,{icon:"question-circle",class:"help-icon"})])),_:1})]),(0,l.bF)(u,{model:i.settings.randomImageAPI,"label-width":"120px",class:"cute-form"},{default:(0,l.k6)((()=>[(0,l.bF)(r,{label:"å¯ç”¨"},{default:(0,l.k6)((()=>[(0,l.bF)(c,{modelValue:i.settings.randomImageAPI.enabled,"onUpdate:modelValue":s[1]||(s[1]=e=>i.settings.randomImageAPI.enabled=e),disabled:i.settings.randomImageAPI.fixed,class:"cute-switch"},null,8,["modelValue","disabled"])])),_:1})])),_:1},8,["model"])]),(0,l.Lk)("div",Qe,[(0,l.Lk)("div",Je,[s[9]||(s[9]=(0,l.Lk)("div",{class:"section-icon"},"ğŸ”‘",-1)),s[10]||(s[10]=(0,l.Lk)("h4",{class:"second-title"},"CloudFlare API Token",-1)),(0,l.bF)(d,{content:"è®¾ç½®åå¯ä»¥ä½¿åç«¯æ‹‰é»‘ã€åˆ é™¤ç­‰æ“ä½œä¸å—CDNç¼“å­˜é™åˆ¶ <br/> å»ºè®®è®¾ç½®,è®¾ç½®æ–¹å¼è¯·æŸ¥é˜…æ–‡æ¡£",placement:"right","raw-content":""},{default:(0,l.k6)((()=>[(0,l.bF)(o,{icon:"question-circle",class:"help-icon"})])),_:1})]),(0,l.bF)(u,{model:i.settings.cloudflareApiToken,"label-width":"120px",class:"cute-form"},{default:(0,l.k6)((()=>[(0,l.bF)(r,{label:"åŒºåŸŸID"},{default:(0,l.k6)((()=>[(0,l.bF)(h,{modelValue:i.settings.cloudflareApiToken.CF_ZONE_ID,"onUpdate:modelValue":s[2]||(s[2]=e=>i.settings.cloudflareApiToken.CF_ZONE_ID=e),disabled:i.settings.cloudflareApiToken.fixed,class:"cute-input",placeholder:"è¯·è¾“å…¥åŒºåŸŸID"},null,8,["modelValue","disabled"])])),_:1}),(0,l.bF)(r,{label:"è´¦æˆ·é‚®ç®±"},{default:(0,l.k6)((()=>[(0,l.bF)(h,{modelValue:i.settings.cloudflareApiToken.CF_EMAIL,"onUpdate:modelValue":s[3]||(s[3]=e=>i.settings.cloudflareApiToken.CF_EMAIL=e),disabled:i.settings.cloudflareApiToken.fixed,class:"cute-input",placeholder:"è¯·è¾“å…¥è´¦æˆ·é‚®ç®±"},null,8,["modelValue","disabled"])])),_:1}),(0,l.bF)(r,{label:"API Key"},{default:(0,l.k6)((()=>[(0,l.bF)(h,{modelValue:i.settings.cloudflareApiToken.CF_API_KEY,"onUpdate:modelValue":s[4]||(s[4]=e=>i.settings.cloudflareApiToken.CF_API_KEY=e),disabled:i.settings.cloudflareApiToken.fixed,type:"password","show-password":"",autocomplete:"new-password",class:"cute-input",placeholder:"è¯·è¾“å…¥API Key"},null,8,["modelValue","disabled"])])),_:1})])),_:1},8,["model"])])]),(0,l.Lk)("div",Ze,[(0,l.bF)(m,{type:"primary",onClick:n.saveSettings,class:"save-button"},{default:(0,l.k6)((()=>s[12]||(s[12]=[(0,l.Lk)("span",{class:"button-text"},"ä¿å­˜è®¾ç½®",-1),(0,l.Lk)("span",{class:"button-icon"},"ğŸ’¾",-1)]))),_:1},8,["onClick"])])])),[[p,i.loading]])}var He={data(){return{settings:{telemetry:{},randomImageAPI:{},cloudflareApiToken:{}},loading:!1}},computed:{...(0,C.L8)(["credentials"])},methods:{async fetchWithAuth(e,s={}){this.credentials&&(s.headers={...s.headers,Authorization:`Basic ${this.credentials}`},s.credentials="include");const a=await fetch(e,s);if(401===a.status)throw this.$message.error("è®¤è¯çŠ¶æ€é”™è¯¯ï¼Œè¯·é‡æ–°ç™»å½•"),this.$router.push("/adminLogin"),new Error("Unauthorized");return a},saveSettings(){this.fetchWithAuth("/api/manage/sysConfig/others",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.settings)}).then((()=>this.$message.success("è®¾ç½®å·²ä¿å­˜")))}},mounted(){this.loading=!0,this.fetchWithAuth("/api/manage/sysConfig/others").then((e=>e.json())).then((e=>{this.settings=e})).finally((()=>{this.loading=!1}))}};const Ye=(0,u.A)(He,[["render",Ge],["__scopeId","data-v-27634dfb"]]);var es=Ye,ss={name:"SystemConfig",data(){return{activeIndex:"upload",isSidebarCollapse:!1}},watch:{"$route.hash":{immediate:!0,handler(e){this.activeIndex=e.replace("#",""),window.scrollTo(0,0)}},activeIndex(e){const s=`#${e}`;this.$router.push({hash:s})}},components:{DashboardTabs:k.A,SysConfigTabs:m,SysCogUpload:he,SysCogSecurity:Ue,SysCogPage:Ke,SysCogOthers:es},computed:{...(0,C.L8)(["credentials"]),disableTooltip(){return window.innerWidth<768},currentComponent(){const e=this.$route.hash.replace("#","");switch(e){case"security":return Ue;case"page":return Ke;case"others":return es;default:return he}}},methods:{async fetchWithAuth(e,s={}){this.credentials&&(s.headers={...s.headers,Authorization:`Basic ${this.credentials}`},s.credentials="include");const a=await fetch(e,s);if(401===a.status)throw this.$message.error("è®¤è¯çŠ¶æ€é”™è¯¯ï¼Œè¯·é‡æ–°ç™»å½•"),this.$router.push("/adminLogin"),new Error("Unauthorized");return a},handleLogout(){this.$store.commit("setCredentials",null),this.$router.push("/adminLogin")},setDefaultHash(){const e="#upload";window.location.hash=e,this.activeIndex=e.replace("#","")}},mounted(){window.location.hash||this.setDefaultHash()}};const as=(0,u.A)(ss,[["render",w],["__scopeId","data-v-3e7413fb"]]);var ts=as},8050:function(e,s,a){a(5331)},3597:function(e,s,a){a(5331)},8830:function(e,s,a){a(5331)},6055:function(e,s,a){a(5331),a(9648),a(8050),a(9104),a(5970)},3003:function(e,s,a){a(5331)},8642:function(e,s,a){a(5331)},7128:function(e,s,a){a(5331),a(4318)},694:function(e,s,a){a(5331)},9104:function(e,s,a){a(5331)},4396:function(e,s,a){a(5331)},4885:function(e,s,a){a(5331)},5970:function(e,s,a){a(5331)},456:function(e,s,a){a(5331)},213:function(e,s,a){a(5331),a(9104)}}]);
//# sourceMappingURL=868.39e8c4f7.js.map