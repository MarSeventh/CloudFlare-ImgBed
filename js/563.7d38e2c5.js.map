{"version":3,"file":"js/563.7d38e2c5.js","mappings":"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","sources":["webpack://sanyue_imghub/./src/views/AdminLogin.vue?88eb","webpack://sanyue_imghub/./src/views/AdminLogin.vue","webpack://sanyue_imghub/./src/views/AdminLogin.vue?06e1","webpack://sanyue_imghub/./src/components/BaseLogin.vue?c9a4","webpack://sanyue_imghub/./src/components/BaseLogin.vue","webpack://sanyue_imghub/./src/components/BaseLogin.vue?0ac4"],"sourcesContent":["import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_BaseLogin = _resolveComponent(\"BaseLogin\");\n  return _openBlock(), _createBlock(_component_BaseLogin, {\n    title: \"Admin Login\",\n    fields: $data.loginFields,\n    \"submit-text\": \"Log in\",\n    \"background-key\": \"adminLoginBkImg\",\n    \"is-admin\": true,\n    onSubmit: $options.handleLogin\n  }, null, 8, [\"fields\", \"onSubmit\"]);\n}","import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/web.dom-exception.stack.js\";\nimport BaseLogin from '@/components/BaseLogin.vue';\nimport axios from '@/utils/axios';\nexport default {\n  data() {\n    return {\n      loginFields: [{\n        key: 'username',\n        label: '用户名',\n        placeholder: 'Please enter your user name',\n        type: 'text'\n      }, {\n        key: 'password',\n        label: '密码',\n        placeholder: 'Please enter your password',\n        type: 'password',\n        showPassword: true\n      }]\n    };\n  },\n  components: {\n    BaseLogin\n  },\n  methods: {\n    async handleLogin(formData) {\n      const {\n        username,\n        password\n      } = formData;\n      const credentials = btoa(`${username}:${password}`); // Base64 编码\n      try {\n        const response = await axios.get('/api/manage/check', {\n          headers: {\n            'Authorization': `Basic ${credentials}`\n          },\n          withCredentials: true\n        });\n        if (response.status === 200) {\n          // 认证成功，存储认证信息，跳转到管理页面\n          this.$store.commit('setCredentials', credentials);\n          this.$router.push('/dashboard');\n        }\n      } catch (error) {\n        if (error.response && error.response.status === 401) {\n          this.$message.error('用户名或密码错误');\n        } else {\n          this.$message.error('服务器错误');\n        }\n      }\n    }\n  }\n};","/* unplugin-vue-components disabled */import { render } from \"./AdminLogin.vue?vue&type=template&id=1fbbbd5c\"\nimport script from \"./AdminLogin.vue?vue&type=script&lang=js\"\nexport * from \"./AdminLogin.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, withKeys as _withKeys, createTextVNode as _createTextVNode, withCtx as _withCtx } from \"vue\";\nconst _hoisted_1 = {\n  class: \"login\"\n};\nconst _hoisted_2 = {\n  class: \"login-container\"\n};\nconst _hoisted_3 = {\n  class: \"login-title\",\n  tabindex: \"0\"\n};\nconst _hoisted_4 = {\n  class: \"input-wrapper\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ToggleDark = _resolveComponent(\"ToggleDark\");\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_Footer = _resolveComponent(\"Footer\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_ToggleDark, {\n    class: \"toggle-dark\"\n  }), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"h1\", _hoisted_3, _toDisplayString($props.title), 1), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($props.fields, (field, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: field.key,\n      class: \"input-container\"\n    }, [_createElementVNode(\"label\", {\n      class: \"input-name\",\n      ref_for: true,\n      ref: `inputLabel${index}`\n    }, _toDisplayString(field.label), 513), _createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_el_input, {\n      modelValue: $data.formData[field.key],\n      \"onUpdate:modelValue\": $event => $data.formData[field.key] = $event,\n      placeholder: field.placeholder,\n      type: field.type || 'text',\n      \"show-password\": field.showPassword,\n      class: \"password-input\",\n      onKeyup: _withKeys($options.handleSubmit, [\"enter\", \"native\"]),\n      onFocus: $options.handleInputFocus,\n      onBlur: $options.handleInputBlur\n    }, null, 8, [\"modelValue\", \"onUpdate:modelValue\", \"placeholder\", \"type\", \"show-password\", \"onKeyup\", \"onFocus\", \"onBlur\"])])]);\n  }), 128)), _createVNode(_component_el_button, {\n    class: \"submit\",\n    type: \"primary\",\n    onClick: $options.handleSubmit\n  }, {\n    default: _withCtx(() => [_createTextVNode(_toDisplayString($props.submitText), 1)]),\n    _: 1\n  }, 8, [\"onClick\"])]), _createVNode(_component_Footer, {\n    class: \"footer\"\n  })]);\n}","import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport Footer from '@/components/Footer.vue';\nimport ToggleDark from '@/components/ToggleDark.vue';\nimport Logo from '@/components/Logo.vue';\nimport { mapGetters } from 'vuex';\nimport backgroundManager from '@/mixins/backgroundManager';\nexport default {\n  name: 'BaseLogin',\n  mixins: [backgroundManager],\n  props: {\n    // 页面标题\n    title: {\n      type: String,\n      required: true\n    },\n    // 输入字段配置\n    fields: {\n      type: Array,\n      required: true\n      // fields 格式: [{ key: 'username', label: '用户名', placeholder: '请输入用户名', type: 'text', showPassword: false }]\n    },\n    // 提交按钮文本\n    submitText: {\n      type: String,\n      default: '登录'\n    },\n    // 背景图配置键名\n    backgroundKey: {\n      type: String,\n      required: true\n    },\n    // 是否为管理端登录（影响背景样式）\n    isAdmin: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      formData: {}\n    };\n  },\n  computed: {\n    ...mapGetters(['userConfig'])\n  },\n  components: {\n    Footer,\n    ToggleDark,\n    Logo\n  },\n  mounted() {\n    // 初始化表单数据\n    this.initFormData();\n    // 初始化背景图\n    this.initializeBackground(this.backgroundKey, '.login', !this.isAdmin, true);\n  },\n  methods: {\n    initFormData() {\n      // 根据字段配置初始化表单数据\n      const newFormData = {};\n      this.fields.forEach(field => {\n        newFormData[field.key] = '';\n      });\n      this.formData = newFormData;\n    },\n    handleSubmit() {\n      // 触发父组件的提交事件，传递表单数据\n      this.$emit('submit', {\n        ...this.formData\n      });\n    },\n    handleInputFocus(event) {\n      const container = event.target.closest('.input-container');\n      if (container) {\n        const wrapper = container.querySelector('.input-wrapper');\n        if (wrapper) {\n          wrapper.classList.add('focused');\n        }\n      }\n    },\n    handleInputBlur(event) {\n      const container = event.target.closest('.input-container');\n      if (container) {\n        const wrapper = container.querySelector('.input-wrapper');\n        if (wrapper) {\n          wrapper.classList.remove('focused');\n        }\n      }\n    }\n  }\n};","/* unplugin-vue-components disabled */import { render } from \"./BaseLogin.vue?vue&type=template&id=8ea9451c&scoped=true\"\nimport script from \"./BaseLogin.vue?vue&type=script&lang=js\"\nexport * from \"./BaseLogin.vue?vue&type=script&lang=js\"\n\nimport \"./BaseLogin.vue?vue&type=style&index=0&id=8ea9451c&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-8ea9451c\"]])\n\nexport default __exports__"],"names":["render","_ctx","_cache","$props","$setup","$data","$options","_component_BaseLogin","title","fields","loginFields","onSubmit","handleLogin","data","key","label","placeholder","type","showPassword","components","BaseLogin","methods","formData","username","password","credentials","btoa","response","axios","get","headers","withCredentials","status","this","$store","commit","$router","push","error","$message","__exports__","_hoisted_1","class","_hoisted_2","_hoisted_3","tabindex","_hoisted_4","_component_ToggleDark","_component_el_input","_component_el_button","_component_Footer","field","index","ref_for","ref","modelValue","$event","onKeyup","handleSubmit","onFocus","handleInputFocus","onBlur","handleInputBlur","onClick","default","submitText","_","name","mixins","backgroundManager","props","String","required","Array","backgroundKey","isAdmin","Boolean","computed","Footer","ToggleDark","Logo","mounted","initFormData","initializeBackground","newFormData","forEach","$emit","event","container","target","closest","wrapper","querySelector","classList","add","remove"],"sourceRoot":""}