"use strict";(self["webpackChunksanyue_imghub"]=self["webpackChunksanyue_imghub"]||[]).push([[941],{1941:function(s,e,t){t.r(e),t.d(e,{default:function(){return b}});var a=t(47),n=(t(5331),t(9648),t(2105)),i=(t(9092),t(6768)),l=t(5130);const o={class:"login"},r={class:"login-container"};function g(s,e,t,g,u,c){const d=n.WK,h=a.S2;return(0,i.uX)(),(0,i.CE)("div",o,[e[3]||(e[3]=(0,i.Lk)("img",{id:"bg1",class:"background-image1",alt:"Background Image"},null,-1)),e[4]||(e[4]=(0,i.Lk)("img",{id:"bg2",class:"background-image2",alt:"Background Image"},null,-1)),(0,i.Lk)("div",r,[e[2]||(e[2]=(0,i.Lk)("h1",null,"Login",-1)),(0,i.bF)(d,{class:"password-input",modelValue:u.password,"onUpdate:modelValue":e[0]||(e[0]=s=>u.password=s),placeholder:"输入认证码，若未设置留空即可~",type:"password","show-password":"",onKeyup:(0,l.jR)(c.login,["enter","native"])},null,8,["modelValue","onKeyup"]),(0,i.bF)(h,{class:"submit",type:"primary",onClick:c.login},{default:(0,i.k6)((()=>e[1]||(e[1]=[(0,i.eW)("登录")]))),_:1},8,["onClick"])])])}t(4114);var u=t(4570),c=t.n(u),d=t(4373),h=t(782),p={data(){return{password:"",writtenPass:"",bingWallPaperIndex:0,customWallPaperIndex:0}},computed:{...(0,h.L8)(["userConfig","bingWallPapers"]),bkInterval(){return this.userConfig?.bkInterval||3e3}},mounted(){const s=document.getElementById("bg1"),e=document.getElementById("bg2");"bing"===this.userConfig?.loginBkImg?this.$store.dispatch("fetchBingWallPapers").then((()=>{s.src=this.bingWallPapers[this.bingWallPaperIndex]?.url,s.onload=()=>{s.style.opacity=1},setInterval((()=>{let t=0!=s.style.opacity?s:e,a=0!=s.style.opacity?e:s;t.style.opacity=0,this.bingWallPaperIndex=(this.bingWallPaperIndex+1)%this.bingWallPapers.length,a.src=this.bingWallPapers[this.bingWallPaperIndex]?.url,a.onload=()=>{a.style.opacity=1}}),this.bkInterval)})):this.userConfig?.loginBkImg instanceof Array&&this.userConfig?.loginBkImg?.length>1?(s.src=this.userConfig.loginBkImg[this.customWallPaperIndex],s.onload=()=>{s.style.opacity=1},setInterval((()=>{let t=0!=s.style.opacity?s:e,a=0!=s.style.opacity?e:s;t.style.opacity=0,this.customWallPaperIndex=(this.customWallPaperIndex+1)%this.userConfig.loginBkImg.length,a.src=this.userConfig.loginBkImg[this.customWallPaperIndex],a.onload=()=>{a.style.opacity=1}}),this.bkInterval)):this.userConfig?.loginBkImg instanceof Array&&1==this.userConfig?.loginBkImg?.length?(s.src=this.userConfig.loginBkImg[0],s.onload=()=>{s.style.opacity=1}):(s.src="https://imgbed.sanyue.site/file/0dbd5add3605a0b2e8994.jpg",s.onload=()=>{s.style.opacity=1})},methods:{login(){""===this.password?this.writtenPass="unset":this.writtenPass=this.password,d.A.post("/login",{authCode:this.password}).then((s=>{200===s.status?(c().set("authCode",this.writtenPass,"14d"),this.$router.push("/"),this.$message.success("登录成功~")):this.$message.error("登录失败，请检查认证码是否正确~")})).catch((s=>{this.$message.error("登录失败，请检查认证码是否正确~")}))}}},m=t(1241);const y=(0,m.A)(p,[["render",g],["__scopeId","data-v-7facb7cf"]]);var b=y}}]);
//# sourceMappingURL=941.5c2bbe42.js.map