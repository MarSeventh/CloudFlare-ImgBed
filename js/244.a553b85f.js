"use strict";(self["webpackChunksanyue_imghub"]=self["webpackChunksanyue_imghub"]||[]).push([[244],{7244:function(s,t,e){e.r(t),e.d(t,{default:function(){return k}});var n=e(6768),a=e(5130);const i=s=>((0,n.Qi)("data-v-6c50c963"),s=s(),(0,n.jt)(),s),l={class:"login"},o=i((()=>(0,n.Lk)("img",{id:"bg1",class:"background-image1",alt:"Background Image"},null,-1))),r=i((()=>(0,n.Lk)("img",{id:"bg2",class:"background-image2",alt:"Background Image"},null,-1))),g={class:"login-container"},c=i((()=>(0,n.Lk)("h1",null,"登录",-1)));function u(s,t,e,i,u,d){const p=(0,n.g2)("el-input"),h=(0,n.g2)("el-button");return(0,n.uX)(),(0,n.CE)("div",l,[o,r,(0,n.Lk)("div",g,[c,(0,n.bF)(p,{class:"password-input",modelValue:u.password,"onUpdate:modelValue":t[0]||(t[0]=s=>u.password=s),placeholder:"输入认证码，若未设置留空即可~",type:"password","show-password":"",onKeyup:(0,a.jR)(d.login,["enter","native"])},null,8,["modelValue","onKeyup"]),(0,n.bF)(h,{class:"submit",type:"primary",onClick:d.login},{default:(0,n.k6)((()=>[(0,n.eW)("提交")])),_:1},8,["onClick"])])])}e(4114);var d=e(4570),p=e.n(d),h=e(4373),m=e(782),y={data(){return{password:"",writtenPass:"",bingWallPaperIndex:0,customWallPaperIndex:0}},computed:{...(0,m.L8)(["userConfig","bingWallPapers"])},mounted(){const s=document.getElementById("bg1"),t=document.getElementById("bg2");"bing"===this.userConfig?.loginBkImg?this.$store.dispatch("fetchBingWallPapers").then((()=>{s.src=this.bingWallPapers[this.bingWallPaperIndex]?.url,s.onload=()=>{s.style.opacity=1},setInterval((()=>{let e=0!=s.style.opacity?s:t,n=0!=s.style.opacity?t:s;e.style.opacity=0,this.bingWallPaperIndex=(this.bingWallPaperIndex+1)%this.bingWallPapers.length,n.src=this.bingWallPapers[this.bingWallPaperIndex]?.url,n.onload=()=>{n.style.opacity=1}}),3e3)})):this.userConfig?.loginBkImg instanceof Array&&this.userConfig?.loginBkImg?.length>1?(s.src=this.userConfig.loginBkImg[this.customWallPaperIndex],s.onload=()=>{s.style.opacity=1},setInterval((()=>{let e=0!=s.style.opacity?s:t,n=0!=s.style.opacity?t:s;e.style.opacity=0,this.customWallPaperIndex=(this.customWallPaperIndex+1)%this.userConfig.loginBkImg.length,n.src=this.userConfig.loginBkImg[this.customWallPaperIndex],n.onload=()=>{n.style.opacity=1}}),3e3)):this.userConfig?.loginBkImg instanceof Array&&1==this.userConfig?.loginBkImg?.length?(s.src=this.userConfig.loginBkImg[0],s.onload=()=>{s.style.opacity=1}):(s.src="https://imgroot.net/file/AgACAgUAAyEGAASSGZ9nAAMJZt7CCIWVKK_t-enb3XMD0f7o4U0AAi3CMRtyxfhWY3RjQphoI0kBAAMCAAN3AAM2BA.jpg",s.onload=()=>{s.style.opacity=1})},methods:{login(){""===this.password?this.writtenPass="unset":this.writtenPass=this.password,h.A.post("/login",{authCode:this.password}).then((s=>{200===s.status?(p().set("authCode",this.writtenPass,"14d"),this.$router.push("/"),this.$message.success("登录成功~")):this.$message.error("登录失败，请检查认证码是否正确~")})).catch((s=>{this.$message.error("登录失败，请检查认证码是否正确~")}))}}},I=e(1241);const b=(0,I.A)(y,[["render",u],["__scopeId","data-v-6c50c963"]]);var k=b}}]);
//# sourceMappingURL=244.a553b85f.js.map